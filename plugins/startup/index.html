<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=9" />

<script src="../util/jquery.js"></script>
<link href="../util/bootstrap/css/bootstrap.min.css" rel="stylesheet"/>
<script src="../util/bootstrap/js/bootstrap.min.js"></script>
<script src="../request/request.js"></script>
<!--<script src="../util/crypto/aes-full-min.js"></script>-->
<script src="http://crypto-js.googlecode.com/svn/tags/3.1.2/build/rollups/aes.js"></script>
<script>
var JsonFormatter = {
        stringify: function (cipherParams) {
            // create json object with ciphertext
            var jsonObj = {
                ct: cipherParams.ciphertext.toString(CryptoJS.enc.Base64)
            };

            // optionally add iv and salt
            if (cipherParams.iv) {
                jsonObj.iv = cipherParams.iv.toString();
            }
            if (cipherParams.salt) {
                jsonObj.s = cipherParams.salt.toString();
            }

            // stringify json object
            return JSON.stringify(jsonObj);
        },

        parse: function (jsonStr) {
            // parse json string
            var jsonObj = JSON.parse(jsonStr);

            // extract ciphertext from json object, and create cipher params object
            var cipherParams = CryptoJS.lib.CipherParams.create({
                ciphertext: CryptoJS.enc.Base64.parse(jsonObj.ct)
            });

            // optionally extract iv and salt
            if (jsonObj.iv) {
                cipherParams.iv = CryptoJS.enc.Hex.parse(jsonObj.iv)
            }
            if (jsonObj.s) {
                cipherParams.salt = CryptoJS.enc.Hex.parse(jsonObj.s)
            }

            return cipherParams;
        }
    };
</script>
<script src="../util/crypto/sha256-min.js"></script>

<style>
body {
	background:url('splash.jpg') no-repeat center center;
}

.modal-footer {   border-top: 0px; }
</style>

<script>
$(document).ready(function() {
	APIRequest("listAccountFiles", "", function(data) {
	if(data.accounts.length == 0)
	{
		$(".container").load("newaccount.html");
	}
	else
	{
		$(".container").load("login.html");
	}
	});

});

</script>


</head>

<body>
<div class="container">

</div>
</body>
</html>